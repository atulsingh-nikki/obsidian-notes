---
layout: default
title: "Blog"
permalink: /blog/
description: "Short updates and essays that complement the long-form notes in the bookshelf."
---

<section class="blog-index">
  <header class="blog-index__header">
    <h1>Blog</h1>
    <p class="blog-index__description">
      Short updates, context, and essays that complement the long-form notes in the bookshelf.
    </p>
    <p class="blog-index__search-link">
      Looking for a specific topic? <a href="{{ '/search/' | relative_url }}">Search all posts</a>.
    </p>
  </header>

  <!-- Featured/Pinned Posts -->
  <div class="blog-pinned">
    {%- assign cadence_post = site.posts | where: "title", "Publishing Cadence Summary" | first -%}
    {%- assign about_post = site.posts | where_exp: "post", "post.title contains 'About Atul Singh'" | first -%}
    
    {%- if cadence_post or about_post -%}
      <div class="blog-pinned__grid">
        {%- if cadence_post -%}
          <aside class="blog-pinned__item" aria-labelledby="pinned-cadence">
            <h3 id="pinned-cadence" class="blog-pinned__title">
              <span class="blog-pinned__pin">üìå</span>
              <a href="{{ cadence_post.url | relative_url }}">{{ cadence_post.title }}</a>
            </h3>
            <p class="blog-pinned__description">
              All 50 posts organized by month, quarter, and year‚Äîperfect for catching up on the entire publishing history.
            </p>
            <a class="blog-pinned__cta" href="{{ cadence_post.url | relative_url }}">View cadence ‚Üí</a>
          </aside>
        {%- endif -%}
        
        {%- if about_post -%}
          <aside class="blog-pinned__item" aria-labelledby="pinned-about">
            <h3 id="pinned-about" class="blog-pinned__title">
              <span class="blog-pinned__pin">üìå</span>
              <a href="{{ about_post.url | relative_url }}">About Me</a>
            </h3>
            <p class="blog-pinned__description">
              Technical portfolio showcasing expertise across computer vision, generative models, HPC, and applied mathematics.
            </p>
            <a class="blog-pinned__cta" href="{{ about_post.url | relative_url }}">View portfolio ‚Üí</a>
          </aside>
        {%- endif -%}
      </div>
    {%- endif -%}
  </div>

  {%- if site.posts and site.posts.size > 0 -%}
    <!-- Tag Filter Section -->
    <div class="blog-filter">
      <div class="blog-filter__controls">
        <label class="blog-filter__label">Filter by tag:</label>
        
        <!-- Search Input -->
        <div class="blog-filter__search">
          <input 
            type="text" 
            id="tagSearchInput" 
            class="blog-filter__search-input"
            placeholder="Search tags (e.g., computer-vision, c++, kalman-filter)..."
            autocomplete="off"
          />
          <span class="blog-filter__search-icon">üîç</span>
        </div>

        <!-- Popular Tags (always visible) -->
        <div class="blog-filter__section">
          <div class="blog-filter__section-header">Popular Tags</div>
          <div class="blog-filter__tags blog-filter__tags--popular" id="popularTags">
            <button class="blog-filter__tag blog-filter__tag--active" data-tag="all">
              All Posts <span class="blog-filter__count">{{ site.posts.size }}</span>
            </button>
            {%- assign all_tags = site.posts | map: 'tags' | compact | join: ',' | split: ',' | uniq -%}
            {%- assign tag_counts = "" | split: "" -%}
            {%- for tag in all_tags -%}
              {%- assign tag_count = 0 -%}
              {%- for post in site.posts -%}
                {%- if post.tags contains tag -%}
                  {%- assign tag_count = tag_count | plus: 1 -%}
                {%- endif -%}
              {%- endfor -%}
              {%- assign tag_entry = tag | append: '|' | append: tag_count -%}
              {%- assign tag_counts = tag_counts | push: tag_entry -%}
            {%- endfor -%}
            {%- assign sorted_tags = tag_counts | sort | reverse -%}
            {%- for tag_entry in sorted_tags limit: 12 -%}
              {%- assign parts = tag_entry | split: '|' -%}
              {%- assign tag = parts[0] -%}
              {%- assign count = parts[1] -%}
              <button class="blog-filter__tag" data-tag="{{ tag }}" data-count="{{ count }}">
                {{ tag }} <span class="blog-filter__count">{{ count }}</span>
              </button>
            {%- endfor -%}
          </div>
        </div>

        <!-- All Tags (collapsible) -->
        <div class="blog-filter__section">
          <button class="blog-filter__toggle" id="toggleAllTags" type="button">
            <span id="toggleText">Show all tags</span>
            <span id="toggleIcon">‚ñº</span>
          </button>
          <div class="blog-filter__tags blog-filter__tags--hidden" id="allTags">
            {%- assign sorted_all_tags = all_tags | sort -%}
            {%- for tag in sorted_all_tags -%}
              {%- assign tag_count = 0 -%}
              {%- for post in site.posts -%}
                {%- if post.tags contains tag -%}
                  {%- assign tag_count = tag_count | plus: 1 -%}
                {%- endif -%}
              {%- endfor -%}
              <button class="blog-filter__tag blog-filter__tag--all" data-tag="{{ tag }}" data-count="{{ tag_count }}">
                {{ tag }} <span class="blog-filter__count">{{ tag_count }}</span>
              </button>
            {%- endfor -%}
          </div>
        </div>
      </div>
    </div>

    <!-- Blog Posts List -->
    <div class="blog-index__list" id="blogList">
      {%- for post in site.posts -%}
        <article class="blog-index__item" data-tags="{{ post.tags | join: ',' }}">
          <h2 class="blog-index__item-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h2>
          <p class="blog-index__item-meta">
            <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%B %-d, %Y" }}</time>
            {%- if post.tags and post.tags.size > 0 -%}
              ¬∑ <span class="blog-index__item-tags">
                {%- for tag in post.tags -%}
                  <span class="blog-tag" data-tag="{{ tag }}">{{ tag }}</span>
                  {%- unless forloop.last -%}, {%- endunless -%}
                {%- endfor -%}
              </span>
            {%- endif -%}
          </p>
          <p class="blog-index__item-excerpt">{{ post.excerpt | strip_html | truncate: 180 }}</p>
          <a class="blog-index__item-read-more" href="{{ post.url | relative_url }}">Read more ‚Üí</a>
        </article>
      {%- endfor -%}
    </div>
  {%- else -%}
    <p class="blog-index__empty">No posts yet. Check back soon for updates.</p>
  {%- endif -%}
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const filterButtons = document.querySelectorAll('.blog-filter__tag');
    const blogItems = document.querySelectorAll('.blog-index__item');
    const toggleButton = document.getElementById('toggleAllTags');
    const allTagsContainer = document.getElementById('allTags');
    const toggleText = document.getElementById('toggleText');
    const toggleIcon = document.getElementById('toggleIcon');
    const searchInput = document.getElementById('tagSearchInput');
    
    // Toggle all tags visibility
    if (toggleButton && allTagsContainer) {
      toggleButton.addEventListener('click', function() {
        const isHidden = allTagsContainer.classList.contains('blog-filter__tags--hidden');
        
        if (isHidden) {
          allTagsContainer.classList.remove('blog-filter__tags--hidden');
          allTagsContainer.classList.add('blog-filter__tags--visible');
          toggleText.textContent = 'Hide all tags';
          toggleIcon.textContent = '‚ñ≤';
        } else {
          allTagsContainer.classList.remove('blog-filter__tags--visible');
          allTagsContainer.classList.add('blog-filter__tags--hidden');
          toggleText.textContent = 'Show all tags';
          toggleIcon.textContent = '‚ñº';
        }
      });
    }
    
    // Search functionality
    if (searchInput) {
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase().trim();
        const allTagButtons = allTagsContainer.querySelectorAll('.blog-filter__tag--all');
        let hasVisibleTags = false;
        
        if (searchTerm === '') {
          // Reset all tags to visible
          allTagButtons.forEach(btn => {
            btn.style.display = '';
          });
        } else {
          // Filter tags based on search
          allTagButtons.forEach(btn => {
            const tagName = btn.getAttribute('data-tag').toLowerCase();
            if (tagName.includes(searchTerm)) {
              btn.style.display = '';
              hasVisibleTags = true;
            } else {
              btn.style.display = 'none';
            }
          });
          
          // Auto-expand if searching
          if (allTagsContainer.classList.contains('blog-filter__tags--hidden')) {
            allTagsContainer.classList.remove('blog-filter__tags--hidden');
            allTagsContainer.classList.add('blog-filter__tags--visible');
            toggleText.textContent = 'Hide all tags';
            toggleIcon.textContent = '‚ñ≤';
          }
        }
      });
    }
    
    // Filter posts by tag
    function filterByTag(selectedTag) {
      // Update active state on buttons
      filterButtons.forEach(btn => btn.classList.remove('blog-filter__tag--active'));
      
      // Find and activate the clicked button (could be in popular or all tags)
      const clickedButtons = document.querySelectorAll(`[data-tag="${selectedTag}"]`);
      clickedButtons.forEach(btn => btn.classList.add('blog-filter__tag--active'));
      
      // Filter blog posts
      let visibleCount = 0;
      blogItems.forEach(item => {
        const itemTags = item.getAttribute('data-tags').split(',');
        
        if (selectedTag === 'all' || itemTags.includes(selectedTag)) {
          item.style.display = '';
          visibleCount++;
        } else {
          item.style.display = 'none';
        }
      });
      
      // Show "no posts" message if no results
      const blogList = document.getElementById('blogList');
      let noResultsMsg = document.getElementById('noResultsMsg');
      
      if (visibleCount === 0) {
        if (!noResultsMsg) {
          noResultsMsg = document.createElement('p');
          noResultsMsg.id = 'noResultsMsg';
          noResultsMsg.className = 'blog-index__empty';
          noResultsMsg.textContent = 'No posts found with this tag.';
          blogList.appendChild(noResultsMsg);
        }
      } else {
        if (noResultsMsg) {
          noResultsMsg.remove();
        }
      }
      
      // Clear search input when a tag is selected
      if (searchInput) {
        searchInput.value = '';
        // Reset all tag visibility
        const allTagButtons = allTagsContainer.querySelectorAll('.blog-filter__tag--all');
        allTagButtons.forEach(btn => {
          btn.style.display = '';
        });
      }
    }
    
    // Attach click handlers to all filter buttons
    filterButtons.forEach(button => {
      button.addEventListener('click', function() {
        const selectedTag = this.getAttribute('data-tag');
        filterByTag(selectedTag);
      });
    });
    
    // Allow clicking on tags within posts to filter
    const inlineTags = document.querySelectorAll('.blog-tag');
    inlineTags.forEach(tagSpan => {
      tagSpan.style.cursor = 'pointer';
      tagSpan.addEventListener('click', function(e) {
        e.preventDefault();
        const tag = this.getAttribute('data-tag');
        filterByTag(tag);
        // Scroll to top of blog list
        document.querySelector('.blog-filter').scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
  });
</script>
