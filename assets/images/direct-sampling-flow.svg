<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="320" viewBox="0 0 900 320" role="img" aria-labelledby="title desc">
  <title id="title">Flow from density to sampler</title>
  <desc id="desc">Diagram showing steps from unnormalized density to practical sampler with annotations.</desc>
  <style>
    .box { fill: #f5f5f5; stroke: #333333; stroke-width: 2; rx: 12; ry: 12; }
    .label { font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 20px; fill: #111111; text-anchor: middle; dominant-baseline: middle; }
    .arrow { stroke: #333333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    .dashed { stroke-dasharray: 6 6; }
    .arrow-text { font-family: 'Helvetica Neue', Arial, sans-serif; font-size: 18px; fill: #222222; text-anchor: middle; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333333" />
    </marker>
  </defs>
  <rect class="box" x="40" y="80" width="200" height="120" />
  <text class="label" x="140" y="140">Unnormalized&#10;density ~p(x)</text>
  <rect class="box" x="270" y="80" width="200" height="120" />
  <text class="label" x="370" y="140">Normalized&#10;PDF p(x)</text>
  <rect class="box" x="500" y="80" width="180" height="120" />
  <text class="label" x="590" y="140">CDF F(x)</text>
  <rect class="box" x="710" y="80" width="180" height="120" />
  <text class="label" x="800" y="140">Practical sampler&#10;(MCMC / SMC / ...)</text>
  <line class="arrow" x1="240" y1="140" x2="270" y2="140" />
  <text class="arrow-text" x="255" y="110">divide by Z</text>
  <line class="arrow" x1="470" y1="140" x2="500" y2="140" />
  <text class="arrow-text" x="485" y="110">integrate</text>
  <line class="arrow" x1="680" y1="140" x2="710" y2="140" />
  <text class="arrow-text" x="695" y="110">invert F(x)=u</text>
  <line class="arrow dashed" x1="370" y1="200" x2="800" y2="200" />
  <text class="arrow-text" x="590" y="235">evaluate &amp; guard against numerical issues</text>
</svg>
